<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body>
        <div class="main">
            <h1>Fonctions</h1>
            <p>
                Dans cette activit√©, nous allons d√©couvrir les fonctions qui permettent de r√©utiliser tr√®s facilement des morceaux de code.
            </p>
            <h2>Fonctions retournant une seule valeur</h2>
            <p>
                Ces fonctions permettent de calculer une valeur √† partir d'une ou plusieurs valeurs de d√©part que l'on appelera <mark>param√®tres</mark>. Souvent ce calcul se fait √† l'aide d'une formule. En Python, on utilise le mot-cl√© <mark class="code">def</mark> pour d√©clarer une fonction et le mot-cl√© <mark class="code">return</mark> pour renvoyer le r√©sultat. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def double(x) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return 2*x <br/>
                </p>
            </div>
            <div class="exercice">
                Ecrire un fonction <mark class="code">carre</mark> qui retourne le carr√© d'une nombre donn√© en param√®tres.
            </div>
            <p>
                Remarque : lorsque l'on d√©clare une fonction, les instructions ne sont pas execut√©es. Elle le seront uniquement lors de l'appel de cette fonction. Cet appel se fait en r√©utilisant le nom donn√© √† la fonction. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def double(x) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return 2*x <br/>
                    <br/>
                    print("Le double de 3 est", double(3)) <br/>
                    print("Le double de 5 est", double(5)) <br/>
                    print("Le double de 0 est", double(0)) <br/>
                </p>
            </div>
            <div class="exercice">
                Tester la fonction <mark class="code">carre</mark> √©crite pr√©c√©demment avec les valeurs <mark class="code">5</mark>, <mark class="code">1</mark>, <mark class="code">0</mark>, <mark class="code">-1</mark>.
            </div>
            <p>
                La valeur retourn√©e par une fonction peut √™tre stock√©e dans une variable pour √™tre r√©utilis√©e plus tard. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def double(x) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return 2*x <br/>
                    <br/>
                    a = int(input("Quel est votre nombre ? "))<br/>
                    b = double(a)<br/>
                    c = double(b)<br/>
                    print("Le double de", a, "est", b, "et le double de", b, "est", c)
                </p>
            </div>
            <p>
                Remarque : lorsque l'instruction <mark class="code">return</mark> est √©x√©cut√©e, la fonction s'arr√™te. Les instructions suivantes ne sont donc pas execut√©es. Cela permet souvent de simplifier un test <mark class="code">if</mark> car la partie <mark class="code">else</mark> devient souvent facultative. Exemple :
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def valeur_absolue(x) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;if x &lt; 0 :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return -x <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return x
                </p>
            </div>
            </p>
            <div class="exercice">
                La suite de Collatz est d√©finie de la mani√®re suivante :
                <ul>
                    <li>si la valeur actuelle <mark class="code">a</mark> est paire, alors la valeur suivante est <mark class="code">a/2</mark></li>
                    <li>si la valeur actuelle <mark class="code">a</mark> est impaire, alors la valeur suivante est <mark class="code">3*a + 1</mark></li>
                </ul>
                <ol class="sous-num">
                    <li>Ecrire une fonction <mark class="code">valeur_suivante_collatz(a)</mark> qui retourne la valeur suivante de la liste de Collatz.</li>
                    <li>On choisit comme valeur de d√©part <mark class="code">7</mark>. Afficher les 5 valeurs suivantes.</li>
                </ol>
            </div>
            <div class="exercice">
                On consid√®re la fonction suivante :
                <div class="algo">
                    <input type="button" class="copier" value="üìë" title="copier">
                    <p class="code">
                        def affichage_mystere(x) : <br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;if x &lt; 0 :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("pomme")<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return 0 <br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;if x &lt; 10 :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("poire") <br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;print("ananas")<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;return 10<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;print("abricot")
                    </p>
                </div>
                Quels sont les messages affich√©s lors des appels :
                <ol class="sous-num">
                    <li><mark class="code">affichage_mystere(12)</mark></li>
                    <li><mark class="code">affichage_mystere(3)</mark></li>
                    <li><mark class="code">affichage_mystere(-8)</mark></li>
                </ol>
            </div>
            <p>
                Les fonctions peuvent prendre en compte plusieurs param√®tres. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def moyenne(a, b) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return (a + b)/2<br/>
                </p>
            </div>
            <div class="exercice">
                Ecrire un fonction <mark class="code">maximum(a, b)</mark> qui retourne le plus grand des deux nombres <mark class="code">a</mark> et <mark class="code">b</mark>.
            </div>
            <p>
                Les fonctions peuvent aussi ne pas prendre de param√®tres. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def gateau() :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;|&nbsp;|&nbsp;|&nbsp;|")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;&nbsp;&nbsp;@%@%@%@%@%@%@")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;@%@%@%@%@%@%@%@%@")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("@%@%@%@%@%@%@%@%@%@")
                </p>
            </div>
            <p>
                On peut remarquer que cette fonction ne retourne aucune valeur.
            </p>
            <div class="exercice">
                Ecrire un fonction <mark class="code">chiffres()</mark> qui affiche les chiffres ecrites en toutes lettres, un chiffre par ligne.
            </div>
            <h2>Fonctions retournant plusieurs valeurs</h2>
            <p>
                Une fonction peur retourner plusieurs valeurs. Les valeurs peuvent √™tre r√©cup√©r√©es en utilisant autant de variables. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def milieu(xA, yA, xB, yB) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;xM = (xA + xB)/2<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;yM = (yA + yB)/2<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return xM, yM<br/>
                    <br/>
                    xA = 2 <br/>
                    yA = 3 <br/>
                    print("Le point A a pour coordonn√©es (", xA, ";", yA, ")") <br/>
                    <br/>
                    xB = 7 <br/>
                    yB = 8 <br/>
                    print("Le point B a pour coordonn√©es (", xB, ";", yB, ")") <br/>
                    <br/>
                    xM, yM = milieu(2, 3, 7, 8) <br/>
                    print("Le milieu du segment [AB] a pour coordonn√©es (", xM, ";", yM, ")")
                </p>
            </div>
            <div class="exercice">
                Ecrire une fonction <mark class="code">minimax(a, b)</mark> qui retourne deux valeurs : la premi√®re est la plus petite des deux valeurs <mark class="code">a</mark> et <mark class="code">b</mark>, la deuxi√®me la plus grande. Tester cette fonction en affichant les valeurs obtenues pour :
                <ol class="sous-num">
                    <li><mark class="code">a = 5</mark> et <mark class="code">b = 7</mark></li>
                    <li><mark class="code">a = -3.05</mark> et <mark class="code">b = -3.055</mark></li>
                    <li><mark class="code">a = 8</mark> et <mark class="code">b = 8</mark></li>
                </ol>
            </div>
            <h2>Port√©e des variables</h2>
            <p>
                Pour ne pas se soucier des variables qui existent d√©j√†, les variables d√©clar√©es √† l'int√©rieur d'une fonction sont <mark>locales</mark>. C'est notament le cas des variables correspondant aux param√®tres de la fonction. Un variable locale est utilisable uniquement dans la fonction o√π elle est d√©clar√©e. Elle est totalement ind√©pendante d'une variable qui porterai le m√™me nom mais qui serait d√©clar√©e √† l'ext√©rieur de la fonction. Illustration :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def f(a, b) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;a = a + 1<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;b = 9<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print(a, b, c)<br/>
                    <br/>
                    a = 5<br/>
                    b = 3<br/>
                    c = 7<br/>
                    print(a, b, c) <font class="commentaire"># affichage attendu : 5 3 7</font><br/>
                    f(a, b)<font class="commentaire">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# affichage attendu : 6 9 7</font><br/>
                    print(a, b, c) <font class="commentaire"># affichage attendu : 5 3 7</font><br/>
                </p>
            </div>
            <p>
                En revanche, on peut acc√©der depuis une fonction √† une variable d√©clar√©e en dehors de cette fonction. Il est cependant impossible de lui assigner une nouvelle valeur. M√™me s'il est possible de d√©clar√©e une variable comme <mark>globale</mark> pour pouvoir lui affecter une nouvelle valeur, il est plus sage de placer cette variable en param√®tre et retourner sa nouvelle valeur gr√¢ce √† <mark class="code">return</mark>.
            </p>
            <p>Exemple avec <mark class="code">global</mark> :</p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def echo(nb) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;<mark>global txt</mark><br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;txt = txt * nb<br/>
                    <br/>
                    txt = "hou"<br/>
                    print(txt) <font class="commentaire"># affichage attendu : hou </font><br/>
                    echo(3)<br/>
                    print(txt) <font class="commentaire"># affichage attendu : houhouhou</font><br/>
                    echo(2)<br/>
                    print(txt) <font class="commentaire"># affichage attendu : houhouhouhouhouhou</font><br/>
                </p>
            </div>
            <p>Exemple avec <mark class="code">return</mark> :</p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def echo(<mark>txt,</mark> nb) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;txt = txt * nb<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;<mark>return txt</mark><br/>
                    <br/>
                    txt = "hou"<br/>
                    print(txt) <font class="commentaire"># affichage attendu : hou </font><br/>
                    <mark>txt =</mark> echo(<mark>txt,</mark> 3)<br/>
                    print(txt) <font class="commentaire"># affichage attendu : houhouhou</font><br/>
                    <mark>txt =</mark> echo(<mark>txt,</mark> 2)<br/>
                    print(txt) <font class="commentaire"># affichage attendu : houhouhouhouhouhou</font><br/>
                </p>
            </div>
            <h2>Documenter une fonction</h2>
            <p>
                Il faut prendre la bonne habitude de documenter ses fonctions. Cela permet, lors de la relecture du code, de savoir quel sont leurs r√¥les et quels sont les param√®tres √† leurs donner. Python propose un format de commentaires sp√©cial appel√© <mark>docstring</mark>. Contrairement aux commentaires, les docstrings s'afficheront lors de l'appel de la fonction <mark class="code">help</mark> avec pour param√®tre le nom de la fonction. Exemple :
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def echo(txt, nb) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;""" Retourne la r√©p√©tition d'une cha√Æne de caract√®res.<br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;txt : la cha√Æne de caract√®res √† r√©p√©ter.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;nb &nbsp;: le nombre de r√©p√©titions.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;"""<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;txt = txt * nb<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return txt<br/>
                    <br/>
                    help(echo)
                </p>
            </div>
            <h2>Fonctions utiles</h2>
            <h3>Division Euclidienne</h3>
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def division_euclidienne(a, b) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;""" Retourne le quotient et le reste de la division euclidienne de `a` par `b`.<br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;a : le dividende entier<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;b : le diviseur entier<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;Retourne une erreur si b est √©gal √† 0<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;"""<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;q = a//b<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;r = a%b<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;if r < 0 :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q = q + 1<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r = r - b<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return q, r<br/>
                </p>
            </div>
            <h3>Demander de r√©pondre par ¬´ oui ¬ª ou par ¬´ non ¬ª</h3>
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def demander_oui_non(question) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;""" Demande √† l'utilisateur de r√©pondre √† la `question` par "oui" ou par "non".<br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;question : la question pos√©e √† l'utilisateur.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;Redemande tant que la valeur saisie ne correspond ni √† "oui" ni √† "non".<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;Retourne une valeur bool√©enne.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;"""<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;reponse = input(question)<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;if reponse == "oui" or reponse == "Oui" or reponse == "OUI" :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return True<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;if reponse == "non" or reponse == "Non" or reponse == "NON" :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return False<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;print("R√©ponse incorrecte : vous devez r√©ponse par "oui" ou par "non".)<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;return demander_oui_non(question)<br/>
                </p>
            </div>
            <h3>Demander un nombre entier</h3>
            </p>
            <div class="algo">
                <input type="button" class="copier" value="üìë" title="copier">
                <p class="code">
                    def demander_entier(phrase) : <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;""" Demande un nombre entier √† l'utilisateur.<br/>
                    <br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;phrase : une cha√Æne de caract√®res d√©crivant la valeur demand√©e √† l'utilisateur.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;Apr√®s avoir affich√© la `phrase`, demande √† l'utilisateur de saisir un nombre entier.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;Redemande tant que la valeur saisie ne peut pas √™tre convertie en nombre entier.<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;"""<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;try :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entier = int(input(phrase))<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return entier<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;except :<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print("R√©ponse incorrecte : vous devez saisir un nombre entier.")<br/>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return demander_entier(phrase)
                </p>
            </div>
        </div>
        <script type="text/javascript" src="script.js"></script>
    </body>
</html>

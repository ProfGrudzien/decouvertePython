<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="style.css"/>
        <link rel="stylesheet" href="DiviserRegner.css"/>
    </head>
    <body>
        <div class="main">
            <h1>Diviser pour regner</h1>
            <p>
                La programmation ¬´ diviser pour r√©gner ¬ª est une m√©thode de programmation qui consiste √† d√©couper un probl√®me en sous-probl√®mes tr√®s faciles √† r√©soudre.<br/>
                Ces programmes se d√©composent en trois √©tapes :
                <ul>
                    <li>Diviser : d√©couper le probl√®me principal en sous-probl√®mes</li>
                    <li>R√©gner : r√©soudre les sous-probl√®mes s√©par√©ment</li>
                    <li>Combiner : utiliser les r√©ponses des sous-probl√®mes pour construire r√©ponse au probl√®me principal</li>
                </ul>
            </p>
            <h2>Exponentiation rapide</h2>
            <p>
                Le calcul de la puissance d'un nombre <mark class="code">a</mark> par un exposant entier naturel <mark class=code>n</mark> peut se faire √† l'aide d'une boucle. Dans ce cas, l'algorithmie est de complexit√© lin√©aire <mark class=code>O(n)</mark>.
            </p>
            <p>
                Le principe de l'exponentiation rapide est le suivant :
                <ul>
                    <li>si <mark class=code>n</mark> est √©gal √† <mark class=code>0</mark>, alors <mark class=code>a<sup>n</sup> = 1</mark></li>
                    <li>si <mark class=code>n</mark> est pair (et non nul) alors <mark class=code>a<sup>n</sup> = (a &times; a)<sup>n/2</sup></mark></li>
                    <li>si <mark class=code>n</mark> est impair alors <mark class=code>a<sup>n</sup> = a &times; a<sup>n-1</sup> </mark></li>
                </ul>
            </p>
            <div class="exercice">
                <ol>
                    <li>Ecrire une fonction r√©cursive <mark class="code">puissance(a, n)</mark> qui retourne la valeur de <mark class=code>a<sup>n</sup></mark> gr√¢ce au principe de l'exponentiation rapide.</li>
                    <li>Construire la pile des appels r√©cursifs lors de l'appel de <mark class="code">puissance(3, 7)</mark></li>
                    <li>Combien de multiplications sont effectu√©es lors du calcul de <mark class=code>3<sup>7</sup></mark> en utilisant une boucle simple ?</li>
                    <li>Combien de multiplications sont effectu√©es lors du calcul de <mark class=code>3<sup>7</sup></mark> en utilisant l'exponentiation rapide ?</li>
                </ol>
            </div>
            <h2>Tri Fusion</h2>
            <p>
                Les algorithmes de tri vues en premi√®re sont de complexit√© quadratique (<mark class="code">O(n<sup>2</sup>)</mark>).
            </p>
            <p>
                Le tri fusion exploite la programmation diviser pour r√©gner afin de r√©duire cette complexit√©. Il est bas√© sur :
                <ul>
                    <li>Diviser : s√©parer la liste en deux listes de longueurs √©quivalentes</li>
                    <li>R√©gner : trier s√©par√©ment ces deux listes</li>
                    <li>Combiner : reconstituer la liste enti√®re tri√©e √† partir des deux moiti√©s tri√©es (la fusion)</li>
                </ul>
            </p>
            <div class="exercice">
                On souhaite √©crire la fonction permettant de fusionner deux listes tri√©es <mark class="code">L1</mark> et <mark class="code">L2</mark> en une seule liste <mark class="code">L</mark> tri√©e.
                <ol>
                    <li>O√π se situe la premi√®re valeur devant appara√Ætre dans la liste <mark class="code">L</mark> ?</li>
                    <li>On doit parcourir les deux listes <mark class="code">L1</mark> et <mark class="code">L2</mark> afin d'en extraire √† chaque fois la plus petite valeur. Quelle type de boucle semble √™tre la plus indiqu√©e ?</li>
                    <li>Quelles sont les conditions d'arr√™t de cette boucle ?</li>
                    <li>A la fin de cette boucle, a-t-on parcouru toutes les valeurs ?</li>
                    <li>Ecrire une fonction <mark class="code">fusion(L1, L2)</mark> qui retourne le r√©sultat de la fusion de deux listes <mark class="code">L1</mark> et <mark class="code">L2</mark></li>
                    <li>Combien de comparaisons sont effectu√©es pour la fusion de deux listes ne <mark class="code">n</mark> √©l√©ments ?</li>
                </ol>
            </div>
            <div class="exercice">
                Compl√©ter la fonction <mark class="code">tri_fusion</mark> suivante :
                <div class="algo">
                    <input type="button" class="copier" value="üìë" title="copier">
                    <p class="code">
                        def tri_fusion(L) : <br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;<font class="commentaire"># crit√®re d'arr√™t : la liste contient 0 ou 1 √©l√©ment</font><br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;if len(L) > 1 :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class="commentaire"># diviser :</font><br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class="commentaire"># r√©gner :</font><br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<font class="commentaire"># combiner :</font><br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </p>
                </div>
            </div>
            <p>
                Voici une animation pr√©sentant la pile des appels r√©cursifs de la fonction <mark class="code">tri_fusion</mark> :
                <div class="animation">
                    <div id="table-container">
                        <table>
                            <tr>
                                <td id="0-0"></td>
                                <td id="0-1"></td>
                                <td id="0-2"></td>
                                <td id="0-3"></td>
                                <td id="0-4"></td>
                                <td id="0-5"></td>
                                <td id="0-6"></td>
                                <td id="0-7"></td>
                                <td id="0-8"></td>
                                <td id="0-9"></td>
                                <td id="0-10"></td>
                                <td id="0-11"></td>
                                <td id="0-12"></td>
                                <td id="0-13"></td>
                                <td id="0-14"></td>
                                <td id="0-15"></td>
                            </tr>
                            <tr>
                                <td id="1-0"></td>
                                <td id="1-1"></td>
                                <td id="1-2"></td>
                                <td id="1-3"></td>
                                <td id="1-4"></td>
                                <td id="1-5"></td>
                                <td id="1-6"></td>
                                <td id="1-7"></td>
                                <td id="1-8"></td>
                                <td id="1-9"></td>
                                <td id="1-10"></td>
                                <td id="1-11"></td>
                                <td id="1-12"></td>
                                <td id="1-13"></td>
                                <td id="1-14"></td>
                                <td id="1-15"></td>
                            </tr>
                            <tr>
                                <td id="2-0"></td>
                                <td id="2-1"></td>
                                <td id="2-2"></td>
                                <td id="2-3"></td>
                                <td id="2-4"></td>
                                <td id="2-5"></td>
                                <td id="2-6"></td>
                                <td id="2-7"></td>
                                <td id="2-8"></td>
                                <td id="2-9"></td>
                                <td id="2-10"></td>
                                <td id="2-11"></td>
                                <td id="2-12"></td>
                                <td id="2-13"></td>
                                <td id="2-14"></td>
                                <td id="2-15"></td>
                            </tr>
                            <tr>
                                <td id="3-0"></td>
                                <td id="3-1"></td>
                                <td id="3-2"></td>
                                <td id="3-3"></td>
                                <td id="3-4"></td>
                                <td id="3-5"></td>
                                <td id="3-6"></td>
                                <td id="3-7"></td>
                                <td id="3-8"></td>
                                <td id="3-9"></td>
                                <td id="3-10"></td>
                                <td id="3-11"></td>
                                <td id="3-12"></td>
                                <td id="3-13"></td>
                                <td id="3-14"></td>
                                <td id="3-15"></td>
                            </tr>
                            <tr>
                                <td id="4-0"></td>
                                <td id="4-1"></td>
                                <td id="4-2"></td>
                                <td id="4-3"></td>
                                <td id="4-4"></td>
                                <td id="4-5"></td>
                                <td id="4-6"></td>
                                <td id="4-7"></td>
                                <td id="4-8"></td>
                                <td id="4-9"></td>
                                <td id="4-10"></td>
                                <td id="4-11"></td>
                                <td id="4-12"></td>
                                <td id="4-13"></td>
                                <td id="4-14"></td>
                                <td id="4-15"></td>
                            </tr>
                        </table>
                    </div>
                    <div id="pile-container">
                        <div id="pile"></div>
                    </div>
                </div>
                <div class="centrer">
                    <input id="btn-prev" type="button" value="<"/>
                    <input type="range" id="index" min="0" max="11">
                    <input id="btn-next" type="button" value=">"/>
                </div>
                <p class="centrer">Nombre de comparaisons : <span id="nbComparaisons"></span></p>
            </p>
            <p>
                Le tri fusion est un algorithme de complexit√© <mark class="code">O(nlog(n))</mark>. D√©monstration :
            </p>
            <p>
              Pour tout <mark class="code">p ‚©æ 0</mark>, on note <mark class="code">C<sub>p</sub></mark> le nombre de comparaisons pour un tri fusion r√©cursif d'une liste de <mark class="code">2<sup>p</sup></mark> √©l√©ments.
            </p>
            <p>
                Pour <mark class="code">p = 0</mark>, cet algorithme n'effectue aucune comparaison. Donc <mark class="code">C<sub>0</sub> = 0</mark>.
            </p>
            <p>
                Pour <mark class="code">p > 0</mark>, cet algorithme appelle deux tris fusions r√©cursifs sur des listes de <mark class="code">2<sup>p-1</sup></mark> √©l√©ments et une fusion de deux listes de <mark class="code">2<sup>p-1</sup></mark> √©l√©ments.<br/>
                On a donc <mark class="code">C<sub>p</sub> = 2 √ó C<sub>p-1</sub> + 2 √ó 2<sup>p-1</sup> = 2 √ó C<sub>p-1</sub> + 2<sup>p</sup></mark> comparaisons.
            </p>
            <p>
                On introduit la suite annexe d√©finie pour <mark class="code">p ‚©æ 0</mark> par <mark class="code">u<sub>p</sub> = <span class="frac"><span class="haut">C<sub>p</sub></span><span class="bas">2<sup>p</sup></span></span></mark>. On a donc :<br/>
                <mark class="code">u<sub>0</sub> = <span class="frac"><span class="haut">C<sub>0</sub></span><span class="bas">2</span></span> = <span class="frac"><span class="haut">0</span><span class="bas">2</span></span> = 0</mark>
                et pour tout <mark class="code">p > 0</mark> :
                <mark class="code">u<sub>p</sub>
                = <span class="frac"><span class="haut">C<sub>p</sub></span><span class="bas">2<sup>p</sup></span></span>
                = <span class="frac"><span class="haut">2 √ó C<sub>p-1</sub> + 2<sup>p</sup></span><span class="bas">2<sup>p</sup></span></span>
                = <span class="frac"><span class="haut">2 √ó C<sub>p-1</sub></span><span class="bas">2<sup>p</sup></span></span> + <span class="frac"><span class="haut">2<sup>p</sup></span><span class="bas">2<sup>p</sup></span></span>
                = <span class="frac"><span class="haut">C<sub>p-1</sub></span><span class="bas">2<sup>p-1</sup></span></span> + 1
                = u<sub>p-1</sub> + 1</mark>
            </p>
            <p>
                On reconna√Æt ici la d√©finition par r√©currence d'une suite arithm√©tique de raison <mark class="code">1</mark> et de premier terme <mark class="code">u<sub>0</sub> = 0</mark>.<br/>
                Donc pour tout <mark class="code">p ‚©æ 1</mark>, on a <mark class="code">u<sub>p</sub> = p</mark>
            </p>
            <p>
                Par d√©finition de la suite <mark class="code">u<sub>p</sub></mark>, on a :
                <mark class="code">C<sub>p</sub> = u<sub>p</sub> √ó 2<sup>p</sup> = p √ó 2<sup>p</sup></mark>
            </p>
            <p>
                En notant <mark class="code">N = 2<sup>p</sup></mark>, on a <mark class="code">p = log<sub>2</sub>(N)</mark>, et <mark class="code">C<sub>p</sub></mark> s'√©crit :
                <mark class="code">log<sub>2</sub>(N) √ó N = N log<sub>2</sub>(N)</mark>
            </p>
            <p>
                La complexit√© du tri fusion r√©cursif est <mark class="code">O(nlog(n))</mark>.
            </p>
            <h2>Ordonnancement de cha√Ænes de montage</h2>
            <p>
                Nous allons r√©soudre un m√™me probl√®me en utilisant les diff√©rentes m√©thodes de r√©solutions vues jusqu'ici.
            </p>
            <p>
                Voici la situation : en temps normal, dans une usine de fabrication automobile, les voitures sont construites en suivant une seule ligne de montage. Ces cha√Ænes de montages r√©alisent la m√™me voiture, qui passe de poste en poste. Le remplacement des outils par des outils plus performant implique que le temps de montage sur les postes r√©alisant la m√™me op√©ration sur deux cha√Ænes diff√©rentes ne sont pas identiques.<br/>
                Le directeur de l'usine doit produire en urgence une voiture. Pour acc√©l√©rer les temps de fabrication, il d√©cide de la changer de cha√Æne de montage au moment opportun. Il doit donc d√©terminer entre quels postes changer de cha√Æne pour minimiser le temps de fabrication.
            </p>
            <p>
                Voici le sch√©ma des cha√Ænes de montage que nous utiliserons dans ces exercices.
                <img src="images/imgChaineMontage.png"></img>
                Les nombres indiquent les temps de montages sur les postes ou bien les temps n√©cessaires aux changement de postes.
            </p>
            <h3>Mise en place des objets utilis√©s pour toutes les solutions</h3>
            <div class="exercice">
                Ecrire une classe <mark class="code">Poste</mark> poss√©dants les attributs suivants :
                <ul>
                    <li><mark class="code">nom</mark> : le nom du poste</li>
                    <li><mark class="code">temps_execution</mark> : le temps de montage de ce poste</li>
                    <li><mark class="code">chaine</mark> : le num√©ro de la cha√Æne de ce poste</li>
                    <li><mark class="code">postes_precedents</mark> : un dictionnaire dont les cl√©s seront les postes pr√©c√©dents et les valeurs les temps de d√©placement entre le poste pr√©c√©dent et ce poste</li>
                    <li><mark class="code">postes_suivants</mark> : un dictionnaire dont les cl√©s seront les postes suivants et les valeurs les temps de d√©placement entre ce poste et le poste suivant</li>
                </ul>
                Le constructeur prendra en param√®tre :
                <ul>
                    <li><mark class="code">nom</mark> : le nom du poste</li>
                    <li><mark class="code">temps_execution</mark> : le temps de montage de ce poste</li>
                    <li><mark class="code">numero_chaine</mark> : le num√©ro de la cha√Æne de ce poste</li>
                </ul>
            </div>
            <div class="exercice">
                Ecrire une fonction <mark class="code">ajouter_transition(poste1, poste2, temps_passage)</mark> qui met √† jour les dictionnaires des objets <mark class="code">poste1</mark> et <mark class="code">poste2</mark> de classe <mark class="code">Poste</mark>.
            </div>
            <div class="exercice">
                Utiliser la classe <mark class="code">Poste</mark> et la fonction <mark class="code">ajouter_transition</mark> pour saisir les informations disponible sur le sch√©ma ci-dessus.
            </div>
            <h3>Na√Øf it√©ratif et na√Øf r√©cursif</h3>
            <p>Une approche na√Øve consiste √† tester toutes les possibilit√©s afin de trouver la plus rapide.<br/>
               Dans notre cas, il n'y a que <mark class="code">2<sup>4</sup>=16</mark> possibilit√©s, mais cette approche est inenvisageable sur des cha√Ænes de montages poss√©dants trop de postes.
            </p>
            <div class="exercice">
                A chaque √©tape de fabrication, le directeur √† le choix entre deux postes. En repr√©sentant par un <mark class="code">1</mark> les postes de la cha√Æne num√©ro 1 et par un <mark class="code">0</mark> les postes de la cha√Æne num√©ro 2, chaque chemin est repr√©sent√© par une nombre en binaire de 4 bits.<br/>
                Une simple boucle permettra ensuite de calculer les temps de montage en suivant les 16 cha√Ænes possibles et de trouver la plus rapide.
                <ol>
                    <li>Ecrire une fonction <mark class="code">enBinaire(n, b=8)</mark> qui convertit un nombre <mark class="code">n</mark> en binaire puis compl√®te si besoin cette √©criture pour avoir un minimum de <mark class="code">b</mark> bits.</li>
                    <li>Ecrire une fonction <mark class="code">temps_montage(chemin)</mark> qui retourne le temps de montage en suivant le chemin donn√© sous forme de nombre binaire √† 4 bits.</li>
                    <li>Ecrire les instructions permettant de trouver le chemin optimal pr√©sentant le temps de montage le plus petit.</li>
                </ol>
            </div>
            <div class="exercice">
                <ol>
                    <li>
                        Ecrire une fonction r√©cursive<br/> <mark class="code">temps_montage(poste_actuel, chemin_actuel="", temps_actuel=0, liste_resultats=[])</mark> qui retournera la liste des couples <mark class="code">(chemin, temps_de_montage)</mark> pour tous les chemins partant du <mark class="code">poste_actuel</mark> et allant jusqu'au poste final.
                    </li>
                    <li>
                        Utiliser cette fonction pour trouver la cha√Æne la plus rapide.
                    </li>
                </ol>
            </div>
            <h3>Algorithme glouton</h3>
            <p>
                Un algorithme glouton consiste √† choisir √† chaque √©tape la solution qui est optimale.
            </p>
            <p>
                Attention, la solution globale obtenue n'est pas toujours la solution optimale.
            </p>
            <div class="exercice">
                <ol>
                    <li>En regardant uniquement les postes suivants, comment choisir le poste qui semble √™tre le plus judicieux ?</li>
                    <li>Ecrire les instructions permettant de r√©soudre ce probl√®me par un algorithme glouton.</li>
                    <li>La solution donn√©e par l'algorithme glouton pour cette situation est-elle la solution optimale ?</li>
                </ol>
            </div>
            <h3>Algorithme randomis√©</h3>
            <p>
                Les algorithmes randomis√©s sont utiles pour les probl√®mes d'optimisation lorsque le nombre de cas est trop important pour tous les tester. Il consiste √† en choisir al√©atoirement quelques uns et de choisir la meilleurs des solutions test√©es. 
            </p>
            <div class="exercice">
                <ol>
                    <li>R√©utiliser les fonctions de la r√©solution na√Øve bas√©e sur le binaire pour teste al√©atoirement 10 chemins possibles et afficher le meilleur de ces 10 chemins.</li>
                    <li>En lan√ßant le programme 5 fois, dans combien de cas trouve-t-on une solution au moins aussi bonne que la solution donn√©e par l'algorithme glouton ?</li>
                </ol>
            </div>
            <div class="exercice">
                <ol>
                    <li>Ecrire une fonction <mark class="code">temps_montage_chemin_aleatoire(depart)</mark> retournant le couple <mark class="code">(chemin, temps_de_montage)</mark> d'un chemin choisit de fa√ßon al√©atoire en choisissant √† chaque √©tape un poste parmi les postes suivant disponibles.</li>
                </ol>
            </div>
            <h3>Programmation dynamique</h3>
            <div class="exercice">
                Ecrire une fonction r√©cursive utilisant l'observation suivante : ¬´ le meilleur chemin passe par l'un des postes pr√©c√©dents au poste actuel ¬ª. Utilisez un dictionnaire pour √©viter de recalculer des temps de montage d√©j√† calcul√©s.
            </div>
        </div>
        <script type="text/javascript" src="script.js"></script>
        <script type="text/javascript" src="DiviserRegner.js"></script>
    </body>
</html>

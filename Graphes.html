<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" href="style.css"/>
    </head>
    <body>
        <div class="main">
            <h1>Graphes</h1>
            <p>
                Des listes chaînées aux piles, files puis arbres, les structures de données sont de plus en plus complexes.
                Ce cheminement nous mène maintenant aux graphes, une structure de données dite relationnelle car elle permet de modéliser des liens entre des entités.
            </p>
            <h2>Notion de graphe</h2>
            <p>
                Un graphe est un ensemble de sommets combiné à un ensemble d’arêtes liant ces sommets.
                Il existe beaucoup de variantes, par exemple les graphes orientés où les arêtes ont un sens unique de parcours ou bien les graphes pondérés où les arêtes sont dotées d'un poids.
            </p>
            <p>
                Exemples :
                <ul>
                    <li>
                        <p>Graphe simple non orienté et non pondéré où les sommets sont nommés par des nombres entiers :</p>
                        <img src="images/graphe00.png">
                    </li>
                    <li>
                        <p>Graphe simple non orienté et non pondéré où les sommets sont nommés par des lettres :</p>
                        <img src="images/graphe01.png">
                    </li>
                    <li>
                        <p>Graphe orienté et non pondéré :</p>
                        <img src="images/graphe02.png">
                    </li>
                    <li>
                        <p>Graphe simple non orienté pondéré :</p>
                        <img src="images/graphe03.png">
                    </li>
                    <li>
                        <p>Graphe simple orienté et pondéré :</p>
                        <img src="images/graphe04.png">
                    </li>
                </ul>
            </p>
            <h2>Problèmes faisant intervenir des graphes.</h2>
            <h3>Les sept ponts de Königsberg</h3>
            <p>
                L'origine des graphes viendrait du mathématicien suisse Leonhard Euler, lors de la résolution du problème des sept ponts de Königsberg. Le problème s’énonce ainsi :<br/>
                « Existe-t-il un itinéraire permettant de traverser une et une seule fois les 7 ponts de la ville de Königsberg dont voici une représentation.»
                <img src="images/Konigsberg.png">
                La résolution de ce problème est facilité par l'utilisation du graphe suivant :
                <img src="images/Konigsberg_graphe.png">
                Et la démonstration est la suivante :<br/>
                Imaginons qu'il existe un tel parcours.
                Pour chaque sommet autre que le premier et le dernier de parcours, il faut que l'on puisse en partir autant de fois qu'on est arrivé à ce sommet.
                Donc le nombre de sommets ayant un nombre impair d’arêtes ne peux pas dépasser 2.
                Sur ce graphe, tous les sommets ont un nombre impair d'arêtes.
                Il n'existe donc pas de promenade parcourant ces ponts une et une seule fois.
            </p>
            <div class="exercice">
                Est-il possible de dessiner ce dessin sans lever le crayon et sans repasser par un segment déjà tracé ?
                <img src="images/graphe05.png">
            </div>
            <h3>Coloration des sommets d'un graphe</h3>
            <p>
                Le théorème des 4 couleurs affirme que pour n'importe quelle carte, il existe une façon de colorier chaque région avec 4 couleurs sans qu'aucunes régions adjacentes ne soit de la même couleur. Voilà une solution pour la carte présentant les états des USA :
                <img src="images/USA.png">
                La démonstration de ce théorème est très compliquée et fait intervenir plusieurs centaines de situations possibles.
                Il s'agît de la première preuve réalisée par un ordinateur (en 1976 après 1200 heures de calcul).<br/>
                Elle s'appuie sur un graphe ou les sommets sont les régions de la carte et où les arêtes relient les régions adjacentes.
            </p>
            <p>
                Le problème de coloration consiste à déterminer le nombre de couleurs nécessaire (au minimum) pour colorier les sommets d'un graphe sans que deux sommets reliés par une arrête ne soient de la même couleur.
            </p>
            <div class="exercice">
                Combien de couleur (au minimum) faut-il pour colorier le graphe suivant ?
                <img src="images/graphe00.png"/>
            </div>
            <p>
                Le problème de coloration permet de résoudre de nombreux problèmes comme par exemple des problèmes d'optimisation.
            </p>
            <div class="exercice">
                Une société doit transporter par camions six produits chimiques, notés P1,&nbsp;...,&nbsp;P6, depuis l'usine de production jusqu'à l'entreprise utilisatrice. Pour des raisons de sécurité, certains produits ne peuvent pas être transportés ensemble&nbsp;: P1 et P2, P1 et P4, P2 et P3, P2 et P5, P3 et P4, P5 et P6.<br/> Déterminer le nombre minimum de camions nécessaires.
            </div>
            <div class="exercice">
                A un examen, les candidats peuvent choisir 2 ou 3 options parmi les 6 options proposées : graphes, vélo, langue régionale, guitare, latin et natation. Certains élèves ont choisi les options graphes, langue régionale, guitare. D'autres vélo et latin; D'autres enfin langue régionale et natation. Les élèves passent au plus une épreuve chaque jour.
                <ol>
                    <li>Combien peut-on programmer d'épreuves d'option au maximum dans une journée ?</li>
                    <li>Quelle est la durée minimum de l'ensemble des épreuves optionnelles ?</li>
                </ol>
            </div>
            <h3>Un problème bidon</h3>
            <p>
                Dans le film Une journée en enfer, Les deux héros doivent résoudre un problème de logique afin de désamorcer une bombe.
                Ils disposent d'une fontaine d'eau et de 2 bidons, l'un d'une capacité de 5 gallons et l'autre d'une capacité de 3 gallons.
                Ils doivent remplir l'un des bidons d'eau par exactement 4 gallons d'eau.
            </p>
            <p>
                Ce problème peut facilement être résolu à l'aide d'un graphe orienté :
                Les sommets seront étiquetés de la forme (a, b) où a est le volume d'eau (en gallons) dans le gros bidon et b le volume d'eau dans le petit gallon. La situation initiale est (0, 0) et on souhaite obtenir une situation de la forme (4, x).
                Les arrêtes signifient qu'il est possible de passer d'une situation à l'autre en réalisant une des actions suivantes :
                <ul>
                    <li>vider au sol le contenu du gros bidon</li>
                    <li>vider au sol le contenu du petit bidon</li>
                    <li>remplir au maximum le gros bidon à l'aide de la fontaine</li>
                    <li>remplir au maximum le petit bidon à l'aide de la fontaine</li>
                    <li>transvaser l'eau du petit bidon vers le gros bidon jusqu'à vider le petit bidon ou remplir le gros</li>
                    <li>transvaser l'eau du gros bidon vers le petit bidon jusqu'à vider le gros bidon ou remplir le petit</li>
                </ul>
                <ol>
                    <li>Construire le graphe permettant de résoudre ce problème</li>
                    <li>En déduire les actions à mener pour résoudre ce problème</li>
                </ol>
            </p>
            <h2>Distances dans un graphe</h2>
            <h3>Dans un graphe non pondéré</h3>
            <p>
                La longueur d'un chemin dans un graphe non pondéré est égal au nombre d’arêtes traversées en parcourant ce chemin.<br/>
                La distance entre deux sommets et égal à la plus petite longueur parmi tous les chemins reliant ces deux sommets.<br/>
                Si deux sommets ne sont pas reliables, alors leur distance est égale à +&infin;.
            </p>
            <div class="exercice">
                On considère le graphe suivant.
                <img src="images/graphe01.png">
                <ol>
                   <li>Quelle est la distance séparant les sommets A et G ?</li> 
                   <li>Quelle est la distance séparant les sommets A et H ?</li>
                   <li>Quelle est la distance séparant les sommets E et D ?</li> 
                </ol>
            </div>
            <p>
                Attention, dans un graphe orienté, il n'est possible de parcourir les arêtes que dans un seul sens.
                La distance d'un sommet A vers un sommet B peut alors être différente de la distance du sommet B vers le sommet A !
            </p>
            <div class="exercice">
                On considère le graphe suivant.
                <img src="images/graphe02.png">
                <ol>
                   <li>Quelle est la distance du sommet F vers le sommet D ?</li> 
                   <li>Quelle est la distance du sommet D vers le sommet F ?</li> 
                   <li>Quelle est la distance du sommet A vers le sommet E ?</li>
                </ol>
            </div>
            <h3>Dans un graphe pondéré</h3>
            <p>
                La longueur d'un chemin dans un graphe pondéré est égal à la somme des poids de toutes les d’arêtes traversées en parcourant ce chemin.<br/>
                La distance entre deux sommets et égal à la plus petite longueur parmi tous les chemins reliant ces deux sommets.<br/>
                Si deux sommets ne sont pas reliables, alors leur distance est égale à +&infin;.
            </p>
            <div class="exercice">
                On considère le graphe suivant.
                <img src="images/graphe03.png">
                <ol>
                   <li>Quelle est la distance séparant les sommets A et E ?</li> 
                   <li>Quelle est la distance séparant les sommets A et F ?</li>
                   <li>Quelle est la distance séparant les sommets C et F ?</li> 
                </ol>
            </div>
            <p>
                Attention, dans un graphe orienté, il n'est possible de parcourir les arêtes que dans un seul sens.
                La distance d'un sommet A vers un sommet B peut alors être différente de la distance du sommet B vers le sommet A !
            </p>
            <div class="exercice">
                On considère le graphe suivant.
                <img src="images/graphe04.png">
                <ol>
                   <li>Quelle est la distance du sommet 1 vers le sommet 4 ?</li> 
                   <li>Quelle est la distance du sommet 1 vers le sommet 8 ?</li> 
                   <li>Quelle est la distance du sommet 2 vers le sommet 5 ?</li>
                   <li>Quelle est la distance du sommet 5 vers le sommet 2 ?</li>
                </ol>
            </div>
            <h2>Parcours d'un graphe</h2>
            <p>
                Tout comme les arbres, les graphes peuvent être parcouru en utilisant les sommets voisins d'un sommets de départ.
                Il y a 3 parcours possibles :
                <ul>
                    <li>en largeur</li>
                    <li>en profondeur préfixe</li>
                    <li>en profondeur postfixe</li>
                </ul>
            </p>
            <h3>Parcours en largeur</h3>
                <p>
                    Il s'agît de parcourir en premier tous les voisins puis ensuite les voisins des voisins qui n'ont pas été traités en s'éloignant ainsi progressivement du sommet initial. Une file permet de réaliser facilement ce parcours. Exemple :<br/>
                    On considère le graphe :
                    <img src="images/graphe00.png">
                    <ul>
                        <li>Le parcours en largeur au départ du sommet 1 donne : 1 - 2 - 5 - 3 - 4 - 6</li>
                        <li>Le parcours en largeur au départ du sommet 3 donne : 3 - 2 - 4 - 1 - 5 - 6</li>
                    </ul>
                </p>
                <div class="exercice">
                    On considère le graphe non orienté suivant :
                    <img src="images/graphe01.png">
                    <ol>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
                <div class="exercice">
                    On considère le graphe orienté suivant :
                    <img src="images/graphe02.png">
                    <ol>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
                <p>
                    Remarque : il arrive que tous les sommets d'un graphe ne soit pas atteignable lorsque l'on effectue un parcours de ce graphe en largeur (ou en profondeur).
                </p>
                <div class="exercice">
                    On considère le graphe orienté suivant :
                    <img src="images/graphe04.png">
                    <ol>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de 1.</li>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de 4.</li>
                    </ol>
                </div>
            <h3>Parcours en profondeur préfixe</h3>
                <p>
                    Il s'agît de parcourir un sommet avant de parcourir tous ses voisins qui n'ont pas été traités.
                    Une pile ou une récurrence permet de réaliser facilement ce parcours. Exemple :<br/>
                    On considère le graphe :
                    <img src="images/graphe00.png">
                    <ul>
                        <li>Le parcours en profondeur préfixe au départ du sommet 1 donne : 1 - 2 - 3 - 4 - 5 - 6</li>
                        <li>Le parcours en profondeur préfixe au départ du sommet 3 donne : 3 - 2 - 1 - 5 - 4 - 6</li>
                    </ul>
                </p>
                <div class="exercice">
                    On considère le graphe non orienté suivant :
                    <img src="images/graphe01.png">
                    <ol>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
                <div class="exercice">
                    On considère le graphe orienté suivant :
                    <img src="images/graphe02.png">
                    <ol>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets obtenu par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
            <h3>Parcours en profondeur postfixe</h3>
                <p>
                    Il s'agît de parcourir un sommet <mark>après</mark> avoir parcouru tous ses voisins qui n'ont pas été traités.
                    Une pile ou une récurrence permet de réaliser facilement ce parcours. Exemple :<br/>
                    On considère le graphe :
                    <img src="images/graphe00.png">
                    <ul>
                        <li>Le parcours en profondeur postfixe au départ du sommet 1 donne : 5 - 6 - 4 - 3 - 2 - 1</li>
                        <li>Le parcours en profondeur postfixe au départ du sommet 3 donne : 6 - 4 - 5 - 1 - 2 - 3</li>
                    </ul>
                </p>
                <div class="exercice">
                    On considère le graphe non orienté suivant :
                    <img src="images/graphe01.png">
                    <ol>
                        <li>Donner l'ordre des sommets postfixe par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets postfixe par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
                <div class="exercice">
                    On considère le graphe orienté suivant :
                    <img src="images/graphe02.png">
                    <ol>
                        <li>Donner l'ordre des sommets postfixe par un parcours en largeur au départ de A.</li>
                        <li>Donner l'ordre des sommets postfixe par un parcours en largeur au départ de E.</li>
                    </ol>
                </div>
            <h2>Implémentations</h2>
            <p>
                Il y a plusieurs façons d'enregistrer les données qui représente le graphe.
                Le choix de l'implémentation aura un impact direct sur la complexité en mémoire (volume des données stockées) ou en complexité temporel (nombre d'instruction nécessaire pour les parcours par exemple).
                Dans tous les cas, nous partirons d'une classe <mark class="code">Sommet</mark> qui permet éventuellement d'ajouter deux sommets ayant le même nom au graphe.
                Voilà le code de cette classe :
                <div class="algo">
                    <input type="button" class="copier" value="📑" title="copier">
                    <p class="code">
                        class Sommet :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;def __init__(self, nom) :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.nom = nom<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;def __str__(self) :<br/>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return str(self.nom)<br/>
                    </p>
                </div>
            </p>
            <h3>Grâce à une liste de sommets et une liste d’arêtes</h3>
            <p>
                La méthode la plus proche de la définition d'un graphe : on utilise la liste des sommets et la liste des arêtes.
            </p>
            <div class="exercice">
                <ol>
                    <li>
                        Créer une classe graphe possédant deux attributs :
                        <ul>
                            <li><mark class="code">sommets</mark> : une liste qui contiendra les sommets (objets de classe <mark class="code">Sommet</mark>) de ce graphe</li>
                            <li><mark class="code">aretes</mark> : une liste qui contiendra les arêtes de ce graphe (tuples de 2 éléments : le départ de l’arête et l'arrivée.)</li>
                        </ul>
                        Au moment de créé le graphe, celui-ci sera vide.
                    </li>
                    <li>Ajouter une méthode <mark class="code">ajouter_sommet</mark> qui permet d'ajouter un sommet au graphe.</li>
                    <li>Ajouter une méthode <mark class="code">ajouter_arete</mark> qui permet d'ajouter une arête au graphe en donnant les deux sommets concernés.</li>
                    <li>Ajouter une méthode <mark class="code">afficher</mark> qui affiche le noms de chaque sommet et toutes les arêtes. </li>
                    <li>Ajouter une méthode <mark class="code">retirer_arete</mark> qui permet de retirer une des arêtes du graphe.</li>
                    <li>Ajouter une méthode <mark class="code">retirer_sommet</mark> qui permet de retirer un sommet du graphe ainsi que toutes les arêtes concernées.</li>
                    <li>Ajouter une méthode <mark class="code">liste_sommets</mark> qui retourne la liste des sommets du graphe.</li>
                    <li>Ajouter une méthode <mark class="code">liste_successeurs</mark> qui retourne la liste des sommets du graphe directement atteignable d'un sommet initial donné en paramètre.</li>
                    <li>Ajouter une méthode <mark class="code">liste_predecesseurs</mark> qui retourne la liste des sommets du graphe à partir duquel un sommet initial donné en paramètre est directement atteignable.</li>
                    <li>Ajouter une méthode <mark class="code">existe_arete</mark> qui retourne un booleen indiquant s'il est directement possible d'aller d'un sommet de départ à un autre. Ces deux sommets étant donnés en paramètre.</li>
                </ol>
            </div>
            <h3>Grâce à la matrice d'adjacence</h3>
            <p>
                Les présence ou l'absence d'une arête est stockée dans un tableau à double entrée aussi appelé matrice.
                Ce tableau a autant de ligne et de colonne que de sommets dans le graphe.
                <mark>matrice</mark>
                Nous utiliserons un <mark class="code">0</mark> pour l'absence d'arête et un <mark class="code">1</mark> pour la présence d'une arête reliant le sommet associé à la ligne au sommet associé à la colonne.
            </p>
            <div class="exercice">
                <ol>
                    <li>
                        Créer une classe graphe possédant deux attributs :
                        <ul>
                            <li><mark class="code">sommets</mark> : une liste qui contiendra les sommets (objets de classe <mark class="code">Sommet</mark>) de ce graphe</li>
                            <li><mark class="code">matrice</mark> : une liste de liste contenant des 0 et des 1.</li>
                        </ul>
                        Au moment de créé le graphe, celui-ci sera vide.
                    </li>
                    <li>Ajouter une méthode <mark class="code">ajouter_sommet</mark> qui permet d'ajouter un sommet au graphe.</li>
                    <li>Ajouter une méthode <mark class="code">ajouter_arete</mark> qui permet d'ajouter une arête au graphe en donnant les deux sommets concernés.</li>
                    <li>Ajouter une méthode <mark class="code">afficher</mark> qui affiche le noms de chaque sommet et la matrice d'adjacence. </li>
                    <li>Ajouter une méthode <mark class="code">retirer_arete</mark> qui permet de retirer une des arêtes du graphe.</li>
                    <li>Ajouter une méthode <mark class="code">retirer_sommet</mark> qui permet de retirer un sommet du graphe ainsi que toutes les arêtes concernées.</li>
                    <li>Ajouter une méthode <mark class="code">liste_sommets</mark> qui retourne la liste des sommets du graphe.</li>
                    <li>Ajouter une méthode <mark class="code">liste_successeurs</mark> qui retourne la liste des sommets du graphe directement atteignable d'un sommet initial donné en paramètre.</li>
                    <li>Ajouter une méthode <mark class="code">liste_predecesseurs</mark> qui retourne la liste des sommets du graphe à partir duquel un sommet initial donné en paramètre est directement atteignable.</li>
                    <li>Ajouter une méthode <mark class="code">existe_arete</mark> qui retourne un booleen indiquant s'il est directement possible d'aller d'un sommet de départ à un autre. Ces deux sommets étant donnés en paramètre.</li>
                </ol>
            </div>
            <h3>Grâce au dictionnaire des successeurs</h3>
            <h3>Parcours d'un graphe en largeur</h3>
            <h3>Parcours d'un graphe en profondeur</h3>
        </div>
        <script type="text/javascript" src="script.js"></script>
    </body>
</html>
